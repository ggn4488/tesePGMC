xlab('Temp max, d+1') +
ylab('Carga h = 16, d+1')
print(p4)
cargas_filtro_a <- cargas_ny_1518_tidy %>% filter(Zona == 'CAPITL',
Hora == 13)
cargas_d_mais_1 <- cargas_filtro_a$Carga[2:nrow(cargas_filtro_a)]
dados_t <- data.frame(cbind(cargas_d_mais_1, t_max$Temperatura[-1]))
p4 <- ggplot(data = dados_t, aes(x = V2, y = cargas_d_mais_1)) +
geom_point() +
theme_classic() +
xlab('Temp max, d+1') +
ylab('Carga h = 16, d+1')
print(p4)
cargas_filtro_a <- cargas_ny_1518_tidy %>% filter(Zona == 'CAPITL',
Hora == 14)
cargas_d_mais_1 <- cargas_filtro_a$Carga[2:nrow(cargas_filtro_a)]
dados_t <- data.frame(cbind(cargas_d_mais_1, t_max$Temperatura[-1]))
p4 <- ggplot(data = dados_t, aes(x = V2, y = cargas_d_mais_1)) +
geom_point() +
theme_classic() +
xlab('Temp max, d+1') +
ylab('Carga h = 16, d+1')
print(p4)
cargas_filtro_a <- cargas_ny_1518_tidy %>% filter(Zona == 'CAPITL',
Hora == 15)
cargas_d_mais_1 <- cargas_filtro_a$Carga[2:nrow(cargas_filtro_a)]
dados_t <- data.frame(cbind(cargas_d_mais_1, t_max$Temperatura[-1]))
p4 <- ggplot(data = dados_t, aes(x = V2, y = cargas_d_mais_1)) +
geom_point() +
theme_classic() +
xlab('Temp max, d+1') +
ylab('Carga h = 16, d+1')
print(p4)
cargas_filtro_a <- cargas_ny_1518_tidy %>% filter(Zona == 'CAPITL',
Hora == 16)
cargas_d_mais_1 <- cargas_filtro_a$Carga[2:nrow(cargas_filtro_a)]
dados_t <- data.frame(cbind(cargas_d_mais_1, t_max$Temperatura[-1]))
p4 <- ggplot(data = dados_t, aes(x = V2, y = cargas_d_mais_1)) +
geom_point() +
theme_classic() +
xlab('Temp max, d+1') +
ylab('Carga h = 16, d+1')
print(p4)
cargas_filtro_a <- cargas_ny_1518_tidy %>% filter(Zona == 'CAPITL',
Hora == 17)
cargas_d_mais_1 <- cargas_filtro_a$Carga[2:nrow(cargas_filtro_a)]
dados_t <- data.frame(cbind(cargas_d_mais_1, t_max$Temperatura[-1]))
p4 <- ggplot(data = dados_t, aes(x = V2, y = cargas_d_mais_1)) +
geom_point() +
theme_classic() +
xlab('Temp max, d+1') +
ylab('Carga h = 16, d+1')
print(p4)
cargas_filtro_a <- cargas_ny_1518_tidy %>% filter(Zona == 'CAPITL',
Hora == 18)
cargas_d_mais_1 <- cargas_filtro_a$Carga[2:nrow(cargas_filtro_a)]
dados_t <- data.frame(cbind(cargas_d_mais_1, t_max$Temperatura[-1]))
p4 <- ggplot(data = dados_t, aes(x = V2, y = cargas_d_mais_1)) +
geom_point() +
theme_classic() +
xlab('Temp max, d+1') +
ylab('Carga h = 16, d+1')
print(p4)
cargas_filtro_a <- cargas_ny_1518_tidy %>% filter(Zona == 'CAPITL',
Hora == 19)
cargas_d_mais_1 <- cargas_filtro_a$Carga[2:nrow(cargas_filtro_a)]
dados_t <- data.frame(cbind(cargas_d_mais_1, t_max$Temperatura[-1]))
p4 <- ggplot(data = dados_t, aes(x = V2, y = cargas_d_mais_1)) +
geom_point() +
theme_classic() +
xlab('Temp max, d+1') +
ylab('Carga h = 16, d+1')
print(p4)
cargas_filtro_a <- cargas_ny_1518_tidy %>% filter(Zona == 'CAPITL',
Hora == 20)
cargas_d_mais_1 <- cargas_filtro_a$Carga[2:nrow(cargas_filtro_a)]
dados_t <- data.frame(cbind(cargas_d_mais_1, t_max$Temperatura[-1]))
p4 <- ggplot(data = dados_t, aes(x = V2, y = cargas_d_mais_1)) +
geom_point() +
theme_classic() +
xlab('Temp max, d+1') +
ylab('Carga h = 16, d+1')
print(p4)
cargas_filtro_a <- cargas_ny_1518_tidy %>% filter(Zona == 'CAPITL',
Hora == 21)
cargas_d_mais_1 <- cargas_filtro_a$Carga[2:nrow(cargas_filtro_a)]
dados_t <- data.frame(cbind(cargas_d_mais_1, t_max$Temperatura[-1]))
p4 <- ggplot(data = dados_t, aes(x = V2, y = cargas_d_mais_1)) +
geom_point() +
theme_classic() +
xlab('Temp max, d+1') +
ylab('Carga h = 16, d+1')
print(p4)
cargas_filtro_a <- cargas_ny_1518_tidy %>% filter(Zona == 'CAPITL',
Hora == 22)
cargas_d_mais_1 <- cargas_filtro_a$Carga[2:nrow(cargas_filtro_a)]
dados_t <- data.frame(cbind(cargas_d_mais_1, t_max$Temperatura[-1]))
p4 <- ggplot(data = dados_t, aes(x = V2, y = cargas_d_mais_1)) +
geom_point() +
theme_classic() +
xlab('Temp max, d+1') +
ylab('Carga h = 16, d+1')
print(p4)
cargas_filtro_a <- cargas_ny_1518_tidy %>% filter(Zona == 'CAPITL',
Hora == 23)
cargas_d_mais_1 <- cargas_filtro_a$Carga[2:nrow(cargas_filtro_a)]
dados_t <- data.frame(cbind(cargas_d_mais_1, t_max$Temperatura[-1]))
p4 <- ggplot(data = dados_t, aes(x = V2, y = cargas_d_mais_1)) +
geom_point() +
theme_classic() +
xlab('Temp max, d+1') +
ylab('Carga h = 16, d+1')
print(p4)
cargas_filtro_a <- cargas_ny_1518_tidy %>% filter(Zona == 'CAPITL',
Hora == 24)
cargas_d_mais_1 <- cargas_filtro_a$Carga[2:nrow(cargas_filtro_a)]
dados_t <- data.frame(cbind(cargas_d_mais_1, t_max$Temperatura[-1]))
p4 <- ggplot(data = dados_t, aes(x = V2, y = cargas_d_mais_1)) +
geom_point() +
theme_classic() +
xlab('Temp max, d+1') +
ylab('Carga h = 16, d+1')
print(p4)
t_min <- aggregate(Temperatura ~ Dias, data = temps_f, min)
library(dplyr)
library(ggplot2)
cargas_filtro_a <- cargas_ny_1518_tidy %>% filter(Zona == 'CAPITL',
Hora == 1)
cargas_d_mais_1 <- cargas_filtro_a$Carga[2:nrow(cargas_filtro_a)]
dados_t <- data.frame(cbind(cargas_d_mais_1, t_min$Temperatura[-1]))
p4 <- ggplot(data = dados_t, aes(x = V2, y = cargas_d_mais_1)) +
geom_point() +
theme_classic() +
xlab('Temp max, d+1') +
ylab('Carga h = 16, d+1')
print(p4)
t_min <- aggregate(Temperatura ~ Dias, data = temps_f, mean)
library(dplyr)
library(ggplot2)
cargas_filtro_a <- cargas_ny_1518_tidy %>% filter(Zona == 'CAPITL',
Hora == 1)
cargas_d_mais_1 <- cargas_filtro_a$Carga[2:nrow(cargas_filtro_a)]
dados_t <- data.frame(cbind(cargas_d_mais_1, t_min$Temperatura[-1]))
p4 <- ggplot(data = dados_t, aes(x = V2, y = cargas_d_mais_1)) +
geom_point() +
theme_classic() +
xlab('Temp max, d+1') +
ylab('Carga h = 16, d+1')
print(p4)
t_min <- aggregate(Temperatura ~ Dias, data = temps_f, median)
library(dplyr)
library(ggplot2)
cargas_filtro_a <- cargas_ny_1518_tidy %>% filter(Zona == 'CAPITL',
Hora == 1)
cargas_d_mais_1 <- cargas_filtro_a$Carga[2:nrow(cargas_filtro_a)]
dados_t <- data.frame(cbind(cargas_d_mais_1, t_min$Temperatura[-1]))
p4 <- ggplot(data = dados_t, aes(x = V2, y = cargas_d_mais_1)) +
geom_point() +
theme_classic() +
xlab('Temp max, d+1') +
ylab('Carga h = 16, d+1')
print(p4)
t_min <- aggregate(Temperatura ~ Dias, data = temps_f, sd)
library(dplyr)
library(ggplot2)
cargas_filtro_a <- cargas_ny_1518_tidy %>% filter(Zona == 'CAPITL',
Hora == 1)
cargas_d_mais_1 <- cargas_filtro_a$Carga[2:nrow(cargas_filtro_a)]
dados_t <- data.frame(cbind(cargas_d_mais_1, t_min$Temperatura[-1]))
p4 <- ggplot(data = dados_t, aes(x = V2, y = cargas_d_mais_1)) +
geom_point() +
theme_classic() +
xlab('Temp max, d+1') +
ylab('Carga h = 16, d+1')
print(p4)
t_min <- aggregate(Temperatura ~ Dias, data = temps_f, median)
library(dplyr)
library(ggplot2)
cargas_filtro_a <- cargas_ny_1518_tidy %>% filter(Zona == 'CAPITL',
Hora == 1)
cargas_d_mais_1 <- cargas_filtro_a$Carga[2:nrow(cargas_filtro_a)]
dados_t <- data.frame(cbind(cargas_d_mais_1, t_min$Temperatura[-1]))
p4 <- ggplot(data = dados_t, aes(x = V2, y = cargas_d_mais_1)) +
geom_point() +
theme_classic() +
xlab('Temp max, d+1') +
ylab('Carga h = 16, d+1')
print(p4)
install.packages("scatterplot3d") # Install
library("scatterplot3d") # load
cargas_filtro_a <- cargas_ny_1518_tidy %>% filter(Zona == 'CAPITL',
Hora == 8)
cargas_filtro_b <- cargas_ny_1518_tidy %>% filter(Zona == 'CAPITL',
Hora == 10)
cargas_filtro_a <- cargas_ny_1518_tidy %>% filter(Zona == 'CAPITL',
Hora == 8)
cargas_filtro_b <- cargas_ny_1518_tidy %>% filter(Zona == 'CAPITL',
Hora == 19)
cargas_filtro_b2 <- cargas_ny_1518_tidy %>% filter(Zona == 'CAPITL',
Hora == 24)
cargas_d_mais_1 <- cargas_filtro_a$Carga[2:nrow(cargas_filtro_a)]
cargas_d <- cargas_filtro_b$Carga[1:(nrow(cargas_filtro_b)-1)]
cargas_d2 <- cargas_filtro_b2$Carga[1:(nrow(cargas_filtro_b)-1)]
scatterplot3d(x=cargas_d, y=cargas_d_2, z=cargas_d_mais_1)
scatterplot3d(x=cargas_d, y=cargas_d2, z=cargas_d_mais_1)
scatterplot3d(x=cargas_d, y=cargas_d_mais1, z=cargas_d2)
scatterplot3d(x=cargas_d, y=cargas_d_mais_1, z=cargas_d2)
scatterplot3d(x=cargas_d, y=cargas_d2, z=cargas_d_mais_1)
cor(cargas_d, cargas_d2)
temps_filtro <- temps_ny_1518_tidy %>% filter(estacao == 'ALB',
Hora == 1)
temps_data <- temps_filtro$Temperatura[-1]
temps_filtro <- temps_ny_1518_tidy %>% filter(estacao == 'ALB',
Hora == 8)
temps_data <- temps_filtro$Temperatura[-1]
temps_filtro <- temps_ny_1518_tidy %>% filter(estacao == 'ALB',
Hora == 5)
temps_data_2 <- temps_filtro$Temperatura[-1]
scatterplot3d(x = temps_data, y = temps_data_2, z = cargas_d_mais_1)
cor(temps_data, temps_data_2)
nlcor(temps_data, temps_data_2)
library(readr)
X_ex <- read_csv("GitHub/tesePGMC/Cap8/X_ex.csv")
View(X_ex)
library(readr)
X_ex_CAPITL_hora1 <- read_delim("GitHub/tesePGMC/Cap8/X_ex_CAPITL_hora1.csv",
delim = ";", escape_double = FALSE, trim_ws = TRUE)
View(X_ex_CAPITL_hora1)
library(readr)
y_ex_csvCAPITL_hora1 <- read_delim("GitHub/tesePGMC/Cap8/y_ex.csvCAPITL_hora1.csv",
delim = ";", escape_double = FALSE, trim_ws = TRUE)
View(y_ex_csvCAPITL_hora1)
y_ex_csvCAPITL_hora1$`Carga(d+1)(1)`
b <- y_ex_csvCAPITL_hora1$`Carga(d+1)(1)`
i = 1
b <- y_ex_csvCAPITL_hora1$`Carga(d+1)(1)`
a <- X_ex_CAPITL_hora1[,i]
nlcor::nlcor(a,b)
nlcor::nlcor(a$...1,b)
View(a)
View(X_ex)
i = 2
a <- X_ex_CAPITL_hora1[,i]
nlcor::nlcor(a$...1,b)
nlcor::nlcor(a,b)
nlcor::nlcor(a$`Carga(d-1)(1)`,b)
a <- as.vector(X_ex_CAPITL_hora1[,i])
nlcor::nlcor(a,b)
a
a <- as.vector(X_ex_CAPITL_hora1[,i])
nlcor::nlcor(a,b)
unlist(X_ex_CAPITL_hora1[,i])
a <- unlist(X_ex_CAPITL_hora1[,i])
nlcor::nlcor(a,b)
nlcor::nlcor(a,b)$cor.estimate
b <- y_ex_csvCAPITL_hora1$`Carga(d+1)(1)`
nlc <- c()
for(i in 2:124) {
a <- unlist(X_ex_CAPITL_hora1[,i])
nlc <- c(nlc, nlcor(a,b))
}
nlc <- c(nlcor::nlcor(a,b)$cor.estimate)
library(nlcor)
library(nlcor)
b <- y_ex_csvCAPITL_hora1$`Carga(d+1)(1)`
nlc <- c()
for(i in 2:124) {
a <- unlist(X_ex_CAPITL_hora1[,i])
nlc <- c(nlc, nlcor(a,b))
}
nlc <- c(nlc,nlcor(a,b)$cor.estimate)
nlc
View(nlc)
View(nlc)
nlc$cor.estimate[1]
nlc$cor.estimate[2]
nlc$cor.estimate[3]
nlc$cor.estimate[4]
nlc$cor.estimate[5]
nlc$cor.estimate[6]
nlc$cor.estimate[7]
nlc$cor.estimate[100]
nlc$cor.estimate
nlc[1]$cor.estimate
nlc[2]$cor.estimate
nlc[3]$cor.estimate
nlc[11]$cor.estimate
unlit(nlc$cor.estimate)
unlist(nlc$cor.estimate)
View(nlc)
library(nlcor)
b <- y_ex_csvCAPITL_hora1$`Carga(d+1)(1)`
nlc <- c()
for(i in 2:124) {
a <- unlist(X_ex_CAPITL_hora1[,i])
nlc <- c(nlc, nlcor(a,b)$cor.estimate, plt = F)
nlcor
}
nlc
colnames(X_ex_CAPITL_hora1[,2:124])
rownames(nlc) <- colnames(X_ex_CAPITL_hora1[,2:124])
nlcd <- data.frame(nlc)
rownames(nlcd) <- colnames(X_ex_CAPITL_hora1[,2:124])
View(nlcd)
library(nlcor)
b <- y_ex_csvCAPITL_hora1$`Carga(d+1)(1)`
nlc <- c()
for(i in 2:124) {
a <- unlist(X_ex_CAPITL_hora1[,i])
nlc <- c(nlc, nlcor(a,b)$cor.estimate, plt = FALSE)
nlcor
}
unlist(nlc$cor.estimate)
nlcor(a,b)$cor.estimate
library(nlcor)
b <- y_ex_csvCAPITL_hora1$`Carga(d+1)(1)`
nlc <- c()
for(i in 2:124) {
a <- unlist(X_ex_CAPITL_hora1[,i])
nlc <- c(nlc, nlcor(a,b,plt=F)$cor.estimate)
nlcor
}
nlcd <- data.frame(nlc)
rownames(nlcd) <- colnames(X_ex_CAPITL_hora1[,2:124])
rownames(nlcd) <- colnames(X_ex_CAPITL_hora1[,2:124])
nlcdd <- sort(nlcd, decreasing = TRUE)
nlcdd <- sort(nlcd$nlc, decreasing = TRUE)
nlcdd <- order(nlcd, decreasing = TRUE)
nlcdd <- nlcd[order(nlcd$nlc, decreasing = TRUE),]
View(nlcd)
nlcdd
nlcd[order(nlcd$nlc, decreasing = TRUE),]
nlcd[order(nlcd$nlc, decreasing = TRUE),]
View(nlcd)
View(nlcd)
nlcd[order(nlcd$nlc, decreasing = TRUE),]
rownames(nlcd) <- colnames(X_ex_CAPITL_hora1[,2:124])
nlcd[order(nlcd$nlc, decreasing = TRUE),]
nlcd$nomes <- colnames(X_ex_CAPITL_hora1[,2:124])
nlcdd <- nlcd[order(nlcd$nlc, decreasing = TRUE),]
View(nlcdd)
View(nlcdd)
View(nlcd)
View(nlcdd)
View(nlcdd)
chdir("C:/Users/Pc/Documents/GitHub/tesePGMC/Cap8")
setwd("C:/Users/Pc/Documents/GitHub/tesePGMC/Cap8")
y <- read.csv("y_ex.csvCAPITL_hora1.csv")
View(y)
y <- read.csv("y_ex.csvCAPITL_hora1.csv", sep = ';')
View(y)
X <- read.csv("X_ex.csvCAPITL_hora1.csv", sep = ";")
X <- read.csv("X_ex_CAPITL_hora1.csv", sep = ";")
View(X)
X <- X[:,-1]
X[:,-1]
X[,-1]
X <- X[,-1]
View(X)
View(X)
library(readr)
X <- read_delim("X_ex_CAPITL_hora1.csv",
delim = ";", escape_double = FALSE, trim_ws = TRUE) read.csv("y_ex.csvCAPITL_hora1.csv", sep = ';')
X <- read_delim("X_ex_CAPITL_hora1.csv",
delim = ";", escape_double = FALSE, trim_ws = TRUE)
View(X)
X <- X[,-1]
View(X)
colnames(X)
library(nlcor)
library(readr)
setwd("C:/Users/Pc/Documents/GitHub/tesePGMC/Cap8")
X <- read_delim("X_ex_CAPITL_hora1.csv",
delim = ";", escape_double = FALSE, trim_ws = TRUE)
X <- X[,-1]
y <- read_delim("y_ex.csvCAPITL_hora1.csv",
delim = ";", escape_double = FALSE, trim_ws = TRUE)
y_vetor <- y_ex_csvCAPITL_hora1$`Carga(d+1)(1)`
nlc <- c()
for(i in 1:123) {
x_vetor <- unlist(X[,i])
nlc <- c(nlc, nlcor(x_vetor,y_vetor,plt=F)$cor.estimate)
nlcor
}
nlcd <- data.frame(nlc)
nlcd$nomes <- colnames(X)
nlcdd <- order(nlcd, decreasing = TRUE)
nlcdd <- nlcd[order(nlcd$nlc, decreasing = TRUE),]
library(nlcor)
library(readr)
setwd("C:/Users/Pc/Documents/GitHub/tesePGMC/Cap8")
X <- read_delim("X_ex_CAPITL_hora1.csv",
delim = ";", escape_double = FALSE, trim_ws = TRUE)
X <- X[,-1]
y <- read_delim("y_ex.csvCAPITL_hora1.csv",
delim = ";", escape_double = FALSE, trim_ws = TRUE)
y_vetor <- y_ex_csvCAPITL_hora1$`Carga(d+1)(1)`
y_vetor <- y$`Carga(d+1)(1)`
nlc <- c()
for(i in 1:123) {
x_vetor <- unlist(X[,i])
nlc <- c(nlc, nlcor(x_vetor,y_vetor,plt=F)$cor.estimate)
nlcor
}
nlcd <- data.frame(nlc)
nlcd$nomes <- colnames(X)
nlcdd <- order(nlcd, decreasing = TRUE)
nlcdd <- nlcd[order(nlcd$nlc, decreasing = TRUE),]
View(nlcdd)
hora=1
zona='CAPITL'
paste("X_ex_", zona, "_hora", hora, ".csv",sep=NULL)
paste("X_ex_", zona, "_hora", hora, ".csv",sep="")
write.csv(nlcdd, paste('nlc', zona, '_', hora, '.csv')
)
nlcdd[,c(2,1)]
write.csv(nlcdd[2,1], paste('nlc', zona, '_', hora, '.csv', sep=''), row.names=FALSE)
write.csv(nlcdd[,c(2,1)], paste('nlc', zona, '_', hora, '.csv', sep=''), row.names=FALSE)
library(nlcor)
library(readr)
zonas <- c('CAPITL', 'CENTRL', 'GENESE', 'HUDVL', 'MHKVL', 'NORTH', 'WEST')
horas <- 1:24
setwd("C:/Users/Pc/Documents/GitHub/tesePGMC/Cap8")
for(zona in zonas){
for(hora in horas) {
X <- read_delim(paste("X_ex_", zona, "_hora", hora, ".csv",sep=""),
delim = ";", escape_double = FALSE, trim_ws = TRUE)
X <- X[,-1]
y <- read_delim("y_ex.csvCAPITL_hora1.csv",
delim = ";", escape_double = FALSE, trim_ws = TRUE)
y_vetor <- y$`Carga(d+1)(1)`
nlc <- c()
for(i in 1:123) {
x_vetor <- unlist(X[,i])
nlc <- c(nlc, nlcor(x_vetor,y_vetor,plt=F)$cor.estimate)
nlcor
}
nlcd <- data.frame(nlc)
nlcd$nomes <- colnames(X)
nlcdd <- order(nlcd, decreasing = TRUE)
nlcdd <- nlcd[order(nlcd$nlc, decreasing = TRUE),]
write.csv(nlcdd[,c(2,1)], paste('nlc', zona, '_', hora, '.csv', sep=''), row.names=FALSE)
}
}
y <- read_delim(paste("y_ex.csv", zona, "_hora", hora, ".csv",sep=""),
delim = ";", escape_double = FALSE, trim_ws = TRUE)
zona='CAPITL'
hora=1
y <- read_delim(paste("y_ex.csv", zona, "_hora", hora, ".csv",sep=""),
delim = ";", escape_double = FALSE, trim_ws = TRUE)
View(y)
hora=2
y <- read_delim(paste("y_ex.csv", zona, "_hora", hora, ".csv",sep=""),
delim = ";", escape_double = FALSE, trim_ws = TRUE)
View(y)
colnames(y) <- c('y1','y2')
y_vetor <- y$y2
library(nlcor)
library(readr)
zonas <- c('CAPITL', 'CENTRL', 'GENESE', 'HUDVL', 'MHKVL', 'NORTH', 'WEST')
horas <- 1:24
setwd("C:/Users/Pc/Documents/GitHub/tesePGMC/Cap8")
for(zona in zonas){
for(hora in horas) {
X <- read_delim(paste("X_ex_", zona, "_hora", hora, ".csv",sep=""),
delim = ";", escape_double = FALSE, trim_ws = TRUE)
X <- X[,-1]
hora=2
y <- read_delim(paste("y_ex.csv", zona, "_hora", hora, ".csv",sep=""),
delim = ";", escape_double = FALSE, trim_ws = TRUE)
colnames(y) <- c('y1','y2')
y_vetor <- y$y2
nlc <- c()
for(i in 1:123) {
x_vetor <- unlist(X[,i])
nlc <- c(nlc, nlcor(x_vetor,y_vetor,plt=F)$cor.estimate)
nlcor
}
nlcd <- data.frame(nlc)
nlcd$nomes <- colnames(X)
nlcdd <- order(nlcd, decreasing = TRUE)
nlcdd <- nlcd[order(nlcd$nlc, decreasing = TRUE),]
write.csv(nlcdd[,c(2,1)], paste('nlc', zona, '_', hora, '.csv', sep=''), row.names=FALSE)
}
}
library(nlcor)
library(readr)
zonas <- c('CAPITL', 'CENTRL', 'GENESE', 'HUDVL', 'MHKVL', 'NORTH', 'WEST')
horas <- 1:24
setwd("C:/Users/Pc/Documents/GitHub/tesePGMC/Cap8")
for(zona in zonas){
for(hora in horas) {
X <- read_delim(paste("X_ex_", zona, "_hora", hora, ".csv",sep=""),
delim = ";", escape_double = FALSE, trim_ws = TRUE)
X <- X[,-1]
y <- read_delim(paste("y_ex.csv", zona, "_hora", hora, ".csv",sep=""),
delim = ";", escape_double = FALSE, trim_ws = TRUE)
colnames(y) <- c('y1','y2')
y_vetor <- y$y2
nlc <- c()
for(i in 1:123) {
x_vetor <- unlist(X[,i])
nlc <- c(nlc, nlcor(x_vetor,y_vetor,plt=F)$cor.estimate)
nlcor
}
nlcd <- data.frame(nlc)
nlcd$nomes <- colnames(X)
nlcdd <- order(nlcd, decreasing = TRUE)
nlcdd <- nlcd[order(nlcd$nlc, decreasing = TRUE),]
write.csv(nlcdd[,c(2,1)], paste('nlc', zona, '_', hora, '.csv', sep=''), row.names=FALSE)
}
}
